# ====================================
# INTERIOR VISUAL SEARCH CONFIGURATION
# Copy this file to .env and update with your values
# ====================================

# ====================================
# Application Settings
# ====================================
APP_NAME="Interior Visual Search"
APP_ENV="dev"
LOG_LEVEL="INFO"

# ====================================
# PINECONE CONFIGURATION (REQUIRED)
# Get your API key from: https://www.pinecone.io/
# ====================================
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_INDEX_NAME=interior-products
PINECONE_CLOUD=aws
PINECONE_REGION=us-east-1
PINECONE_DIM=1024

# ====================================
# EMBEDDING MODELS
# ====================================
INSTANCE_MODEL_NAME=google/vit-base-patch16-224-in21k
SEMANTIC_MODEL_NAME=openai/clip-vit-base-patch32

# ====================================
# DETECTION MODEL (RT-DETR)
# ====================================
# Update this path to match your system
RTDETR_MODEL_PATH=D:\image_image_search\backend\app\models\rtdetr-x.pt

# ====================================
# SEGMENTATION MODEL (SAM2.1 from Ultralytics)
# ====================================
# Update this path to match your system
SAM2_MODEL_PATH=D:\image_image_search\backend\app\models\sam2.1_l.pt

# ====================================
# IMAGE VALIDATION SETTINGS
# ====================================
IMAGE_MIN_DIMENSION=600
IMAGE_MAX_DIMENSION=4096
IMAGE_MAX_SIZE_MB=15

# ====================================
# IMAGE STORAGE DIRECTORIES
# ====================================
CATALOG_IMAGES_DIR=images/catalog
SEARCH_IMAGES_DIR=images/search

# ====================================
# SEARCH SETTINGS
# ====================================
SEARCH_CANDIDATE_MULTIPLIER=15
SEARCH_DEDUPLICATE_SKUS=true
MAX_CANDIDATE_K=5000

# ====================================
# ADVANCED EMBEDDING SETTINGS
# ====================================
# Enable multi-scale embedding for extreme size variations
ENABLE_MULTISCALE_EMBEDDING=true

# Embedding scales (comma-separated pixel sizes)
EMBEDDING_SCALES=224,384,512

# Enable rotation augmentation for angle invariance
ENABLE_ROTATION_AUGMENTATION=true

# ====================================
# ADVANCED RERANKING SETTINGS
# ====================================
# Enable multi-stage reranking for large catalogs
ENABLE_MULTISTAGE_RERANK=true

# Stage 1 filtering ratio
RERANK_STAGE1_RATIO=0.3

# ====================================
# OPTIONAL: PINECONE RERANKING
# ====================================
ENABLE_PINECONE_RERANK=false
PINECONE_RERANK_MODEL=bge-reranker-v2-m3

